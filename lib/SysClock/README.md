# Описание функционала sys_clock.cpp

Файл `sys_clock.cpp` содержит реализацию функций, отвечающих за задержки времени.

## Функции:

### `void SysTickHandler(void)`

Данный код представляет собой определение функции `SysTickHandler`, которая является обработчиком прерывания SysTick.

`SysTick` - это системный таймер, который генерирует прерывание через определенные интервалы времени. Обработчик прерывания `SysTickHandler` вызывается каждый раз, когда происходит прерывание от таймера.

Внутри функции есть условие `if (SysTick_CNT > 0)`, которое проверяет значение переменной `SysTick_CNT`. Если оно больше нуля, то выполняется блок кода внутри условия.

Внутри блока кода находится выражение `SysTick_CNT--`, которое уменьшает значение переменной `SysTick_CNT` на единицу. Таким образом, каждый раз при вызове обработчика прерывания SysTick, значение переменной `SysTick_CNT` будет уменьшаться на единицу, пока не достигнет нуля.

Этот код может использоваться для реализации таймера или задержки в программе, где значение переменной `SysTick_CNT` определяет количество прерываний, которые должны произойти перед выполнением определенного действия.

### `delay_ms(uint32_t ms)`

Данный код представляет собой определение функции `delay_ms`, которая используется для создания задержки в миллисекундах.

Внутри функции есть две строки кода:

1. `SysTick_CNT = ms;` - Эта строка устанавливает значение переменной `SysTick_CNT` равным переданному аргументу `ms`. Переменная `SysTick_CNT` используется для отслеживания оставшегося времени задержки.

2. `while (SysTick_CNT) ;` - Эта строка представляет собой бесконечный цикл, который выполняется до тех пор, пока значение переменной `SysTick_CNT` не станет равным нулю. Внутри цикла нет никаких операций, поэтому он просто продолжает выполняться, пока значение `SysTick_CNT` не достигнет нуля.

Таким образом, когда функция `delay_ms` вызывается с определенным значением `ms`, она устанавливает значение `SysTick_CNT` равным этому значению и затем ждет, пока `SysTick_CNT` не станет равным нулю. Когда это происходит, задержка считается завершенной, и выполнение программы продолжается дальше.

## Переменные:

### `SysClock`

Глобальная переменная, содержащая значение системного тактового сигнала. Значение этой переменной устанавливается функцией `delay_ms()` и декрементируется в функции `SysTickHandler`.

1. `volatile` - Это ключевое слово, которое указывает компилятору, что значение переменной может изменяться вне обычного потока выполнения программы. Это означает, что компилятор не должен оптимизировать доступ к этой переменной и всегда должен обращаться к ней в памяти.

2. `uint32_t` - Это беззнаковый целочисленный тип данных, который занимает 32 бита (4 байта) в памяти. Он может хранить значения от 0 до 4294967295.

Таким образом, данное объявление создает переменную `SysTick_CNT`, которая может быть изменена вне основного потока выполнения программы и занимает 4 байта в памяти.
